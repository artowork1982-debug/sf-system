/* --- ESIKATSELU – KORTTI --- */

.sf-view-page .sf-preview-wrapper {
    margin-top: 16px;
    margin-bottom: 24px;
    display: flex;
    justify-content: center;
}

.sf-view-page .sf-preview-card {
    display: flex;
    background: #f3f4f6;
    border-radius: 0;
    box-shadow: 0 18px 40px rgba(15, 23, 42, 0.18);
    overflow: hidden;

    /* Lukitaan kortin koko exporttia varten */
    width: 960px;
    height: 540px;
}

/* Vasen väripalkki */

.sf-preview-left-stripe {
    width: 30px;
    background-color: #FDDF00;
    border-radius: 0 25px 25px 0;
    padding: 10px 0;
}

/* Tyyppikohtaiset värit palkille */

.sf-preview-card.sf-preview-type-red .sf-preview-left-stripe {
    background-color: #FC0000;
}

.sf-preview-card.sf-preview-type-yellow .sf-preview-left-stripe {
    background-color: #FDDF00;
}

.sf-preview-card.sf-preview-type-green .sf-preview-left-stripe {
    background-color: #39B54A;
}

/* Kortin sisus */

.sf-preview-inner {
    flex: 1;
    padding: 28px 30px 24px;
    background: #f9fafb;
}

/* Ylärivi */

.sf-preview-header-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 28px;
    gap: 40px;
}

/* YLÄRIVI – musta otsikkopalkki, jatkuu stripestä oikealle */

.sf-preview-header-left {
    position: relative;
    display: flex;
    align-items: center;
    background-color: #000;
    border-radius: 0 40px 40px 0;
    margin-left: -30px;
    padding: 18px 28px 18px 80px;
    width: 100%;
    height: 26px;
}

/* Ikoni mustan palkin sisällä */

.sf-preview-type-icon {
    position: absolute;
    left: -18px;
    top: 50%;
    transform: translateY(-50%);
    width: 72px;
    height: 72px;
    object-fit: contain;
    margin: 0;
    z-index: 2;
}

/* Teksti + dot samalla rivillä */

.sf-preview-type-bar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
    width: 100%;
    background: transparent;
    border-radius: 0;
    padding: 0;
}

.sf-preview-type-text {
    color: #ffffff;
    font-weight: 700;
    letter-spacing: 0.16em;
    text-transform: uppercase;
    font-size: 2rem;
}

/* Väripallo – pysyy palkin oikeassa reunassa */

.sf-preview-type-dot {
    width: 32px;
    height: 32px;
    border-radius: 999px;
    background: #ffffff;
    border: 6px solid #FDDF00;
    flex-shrink: 0;
    margin-right: -15px;
}

/* Tyyppikohtainen väripallon reuna */

.sf-preview-card.sf-preview-type-red .sf-preview-type-dot {
    border-color: #fff;
    background-color: #FC0000;
}

.sf-preview-card.sf-preview-type-yellow .sf-preview-type-dot {
    background-color: #FDDF00;
    border-color: #fff;
}

.sf-preview-card.sf-preview-type-green .sf-preview-type-dot {
    background-color: #39B54A;
    border-color: #fff;
}

/* Safety-logo oikeassa yläkulmassa */

.sf-preview-safety-logo {
    height: 70px;
    object-fit: contain;
}

/* Päärivi: tekstit vasemmalla, kuva oikealla */

.sf-preview-main-row {
    display: grid;
    grid-template-columns: minmax(0, 2fr) minmax(0, 1.6fr);
    gap: 10px;
    align-items: stretch;
}

/* DIA 2: ei kuvaa → yksi kolumni (täysi leveys) */

.sf-preview-main-row--no-image {
    display: block;
    grid-template-columns: none;
    width: 100%;
}

/* Tekstipuoli */

.sf-preview-text-col {
    display: flex;
    flex-direction: column;
    gap: 5px;
    padding: 0 0 20px 0;

    /* Tämä työntää meta-rivin alas */
    height: 100%;
}

.sf-preview-meta-row {
    margin-top: auto !important;
    /* Pakottaa metarivin alas */
}

/* Otsikko (lyhyt kuvaus) – hieman pienempi ja tiiviimpi */

.sf-preview-title {
    font-size: 1.15rem;
    line-height: 1.25;
    font-weight: 700;
    color: #111827;
    margin: 0 0 8px;
    max-height: 3.6em;
    /* ~2 riviä */
    overflow: hidden;
}

/* Lyhyt kuvaus / tapahtuman kuvaus -laatikot */

.sf-preview-box {
    background: #ffffff;
    border-radius: 18px;
    padding: 12px 16px;
    box-shadow: 0 8px 18px rgba(15, 23, 42, 0.08);
    margin-bottom: 10px;
}

/* Kompaktimpi laatikko ekalle dialle */
.sf-preview-box--compact {
    padding: 8px 10px;
    margin-bottom: 8px;
}

.sf-preview-box-label {
    font-size: 0.8rem;
    font-weight: 700;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: #6b7280;
    margin-bottom: 4px;
}

/* Pienempi leipäteksti laatikoissa */
.sf-preview-box-text {
    font-size: 0.95rem;
    color: #111827;
    max-height: 6.5em;
    overflow: hidden;
    position: relative;
}

.sf-preview-box-text--smaller {
    font-size: 0.9rem;
    line-height: 1.3;
}

/* pieni fade oikeaan alakulmaan */
.sf-preview-box-text::after {
    content: "";
    position: absolute;
    bottom: 0;
    right: 0;
    width: 40%;
    height: 1.2em;
    background: linear-gradient(to right, transparent, #fff);
}

/* Työmaa / Milloin? -boksi */

.sf-preview-meta-row {
    display: flex;
    flex-wrap: nowrap;
    gap: 12px;
    margin-top: 8px;
}

.sf-preview-meta-box {
    flex: 1 1 0;
    background: #e5e7eb;
    border-radius: 14px;
    padding: 6px 10px;
}

.sf-preview-meta-label {
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    color: #4b5563;
    margin-bottom: 2px;
}

.sf-preview-meta-value {
    font-size: 0.85rem;
    font-weight: 500;
    color: #111827;
}

/* Kuva + thumbit */

.sf-preview-image-col {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

/* Kun on thumb-kuvia -> pääkuvan max-height pienempi */
.sf-preview-image-col.sf-has-thumbs .sf-preview-image-frame {
    max-height: 240px;
}

/* Kun ei ole thumbeja -> kuva saa käyttää koko tilan */
.sf-preview-image-col:not(.sf-has-thumbs) .sf-preview-image-frame {
    max-height: 350px;
    border-radius: 20px;
    border: 2px solid #efefef;
}

/* Kuva-alue */
.sf-preview-image-frame {
    position: relative;
    overflow: hidden;
    height: 280px;
    /* tai 260–300px, mutta oltava jokin kiinteä korkeus */
}



/* Drag-tilassa kursori muuttuu */
.sf-preview-image.sf-image-dragging {
    cursor: grabbing;
}

/* Thumbnailit */

.sf-preview-thumbs-row {
    display: flex;
    gap: 10px;
}

.sf-preview-thumb {
    flex: 1 1 0;
    border-radius: 18px;
    border: none;
    padding: 0;
    overflow: hidden;
    background: transparent;
    cursor: pointer;
}

.sf-preview-thumb img {
    width: 100%;
    height: 80px;
    object-fit: cover;
    display: block;
}

/* Sliderit kortin alla */

.sf-preview-sliders {
    margin-top: 16px;
    padding: 16px 18px;
    border-radius: 18px;
    background: #f9fafb;
    border: 1px dashed #d1d5db;
}

.sf-preview-slider-row {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 8px;
}

.sf-preview-slider-row label {
    width: 190px;
    font-size: 0.9rem;
    color: #111827;
}

.sf-preview-slider-row input[type="range"] {
    flex: 1 1 auto;
}

/* Nappirivi esikatselussa */

.sf-preview-actions {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
    margin-top: 18px;
}

/* --- JUURISYYT + TOIMENPITEET -KOLUMNIT --- */

.sf-preview-cols {
    display: flex;
    gap: 1.25rem;
    margin-top: 0.75rem;
}

/* Tiiviimpi kahden kolumnin alue */
.sf-preview-cols--tight {
    gap: 1rem;
    margin-top: 0.5rem;
}

.sf-preview-col {
    flex: 1;
    background: #ffffff;
    border-radius: 16px;
    padding: 0.65rem 0.9rem 0.75rem;
}

/* Otsikkopalkit ylemmäs – enemmän tilaa listalle */
.sf-preview-col-title {
    display: inline-block;
    margin-top: -10px;
    /* menee hieman laatikon yli */
    margin-bottom: 8px;
    padding: 0.35rem 0.9rem;
    border-radius: 0 15px 15px 0;
    font-weight: 700;
    font-size: 0.85rem;
    background: #000;
    color: #fff;
}

.sf-preview-col-body {
    font-size: 0.9rem;
    line-height: 1.3;
}

.sf-preview-col-body ul {
    margin: 0;
    padding-left: 1.2rem;
}

.sf-preview-col-body li {
    margin: 0 0 0.25rem 0;
}

/* DIA 2: kun ei ole kuvaa, käytetään koko leveyttä */
.sf-preview-main-row--no-image .sf-preview-text-col {
    flex: 1 1 100%;
    max-width: 100%;
    width: 100%;
}

.sf-preview-main-row--no-image .sf-preview-cols {
    width: 100%;
}

.sf-preview-main-row--no-image .sf-preview-col {
    flex: 1 1 50%;
}

/* --- GRID-LAYOUT-VALINNAT --- */

/* OLETUS: "auto" käyttää jo olemassa olevaa .sf-has-thumbs logiikkaa */

/* 1) Suuri pääkuva - käytetään melkein koko kuva-alue */
.sf-preview-card.layout-image-large .sf-preview-image-col.sf-has-thumbs .sf-preview-image-frame,
.sf-preview-card.layout-image-large .sf-preview-image-col:not(.sf-has-thumbs) .sf-preview-image-frame {
    height: 340px;
}

.sf-preview-card.layout-image-large .sf-preview-thumbs-row {
    margin-top: 4px;
}

/* 2) Kompakti kuva-alue - enemmän tilaa tekstille */
.sf-preview-card.layout-image-compact .sf-preview-image-col.sf-has-thumbs .sf-preview-image-frame {
    height: 200px;
}

.sf-preview-card.layout-image-compact .sf-preview-image-col:not(.sf-has-thumbs) .sf-preview-image-frame {
    height: 240px;
}

/* --- Mobiilisäätöjä --- */

@media (max-width: 900px) {
    .sf-preview-main-row {
        grid-template-columns: 1fr;
    }

    .sf-preview-image-frame {
        min-height: 220px;
    }

    .sf-preview-card {
        border-radius: 0px;
    }

    .sf-preview-type-icon {
        width: 64px;
        height: 64px;
    }

    .sf-preview-cols {
        flex-direction: column;
    }

    .sf-preview-main-row--no-image .sf-preview-col {
        flex: 1 1 100%;
    }
}
.sf-preview-image,
#sfPreviewImage {
    width: 100%;
    height: 100%;

    /* Näytä koko kuva ilman venymistä */
    object-fit: contain;
    object-position: 50% 50%;

    transform-origin: center center;
    transition: transform 0.1s linear;
}

.sf-image-dragging {
    transition: none !important;
}
.sf-view-actions {
    margin-top: 24px;
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
}

@media (max-width: 640px) {
    .sf-view-actions {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: #fff;
        padding: 12px;
        box-shadow: 0 -4px 14px rgba(0, 0, 0, 0.15);
        z-index: 999;
        justify-content: space-around;
    }
}
.sf-grid-selector {
    margin-bottom: 16px;
}

.sf-grid-selector .sf-label {
    display: block;
    margin-bottom: 4px;
    font-weight: 600;
}

.sf-grid-selector .sf-help-text {
    margin-top: 4px;
    font-size: 0.8rem;
    color: #4b5563;
}
/* --- GRID-VALINTA: SUURI PÄÄKUVA --- */
.sf-preview-card.layout-image-large .sf-preview-main-row {
    grid-template-columns: minmax(0, 1.2fr) minmax(0, 2fr);
}

.sf-preview-card.layout-image-large .sf-preview-image-frame {
    height: 320px;
    max-height: 320px;
}

.sf-preview-card.layout-image-large .sf-preview-thumbs-row {
    display: none;
}

/* --- GRID-VALINTA: KOMPAKTI KUVA, ENEMMÄN TILAA TEKSTILLE --- */
.sf-preview-card.layout-image-compact .sf-preview-main-row {
    grid-template-columns: minmax(0, 2.2fr) minmax(0, 1.3fr);
}

.sf-preview-card.layout-image-compact .sf-preview-image-frame {
    height: 220px;
    max-height: 220px;
}

.sf-preview-card.layout-image-compact .sf-preview-thumbs-row {
    display: flex;
}